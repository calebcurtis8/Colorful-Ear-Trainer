<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Colorful Ear Training Game" />
  <title>Colorful Ear Trainer</title>
  <link rel="stylesheet" href="global.css">
</head>

<body class="h-full">
  <fancy-background id="background" style="opacity: 0"
    class="fixed top-0 bottom-0 left-0 right-0 transition-all duration-1000 pointer-events-none opacity-0 bg-gradient-to-r from-green-200 via-pink-500 to-blue-500">
  </fancy-background>
  <main class="grid grid-cols-1 sm:grid-cols-4 p-4 gap-4 h-full">
    <div class="rounded-lg sm:order-1 border-4 border-black p-4">
      <div class="text-2xl font-bold mb-4 pb-4 border-b-2 border-black">Instructions:</div>
      <ol class="list-decimal ml-4 space-y-2">
        <li>On iPhone deactivate the mute switch</li>
        <li>Press PLAY, a I IV V I cadence will sound in the selected Key Center</li>
        <li>1 or more notes will play</li>
        <li>Play the notes you hear into the keyboard using your finger or mouse</li>
        <li>Go as fast as possible</li>
        <li>When it becomes easy, increase the difficulty by increasing the number of notes or by increasing the note
          set. Find a balance.</li>
        <li>Mess with the options to see what they do!</li>
        <li>Email me with suggestions: <a href="mailto:caleb@calebcurtis.com">caleb@calebcurtis.com</a></li>
      </ol>
    </div>
    <div class="rounded-lg border-4 border-solid border-black p-4">
      <div class="font-bold text-2xl mb-4 pb-4 border-b-2 border-black">Options:</div>
      <define-user id="User">
        <form class="space-y-4">
          <key-selector class="space-y-4">
            <div>
              <label for="KeyCenter">Key Center:</label>
              <select name="keycenter" id="KeyCenter" class="input">
                <option value='0' selected>C</option>
                <option value='1'>Db</option>
                <option value='2'>D</option>
                <option value='3'>Eb</option>
                <option value='4'>E</option>
                <option value='5'>F</option>
                <option value='6'>Gb</option>
                <option value='7'>G</option>
                <option value='8'>Ab</option>
                <option value='9'>A</option>
                <option value='10'>Bb</option>
                <option value='11'>B</option>
              </select>
            </div>
            <div>
              <label for="NoteSet">Note Set:</label>
              <select name="set" id="NoteSet" class="input w-full">
                <option value='[0,7]' data-template="{0} | {4}">C | G</option>
                <option value='[0,4,7]' data-template="{0} | {4} | {7}">C | E | G</option>
                <option value='[0,4,7,11]' data-template="{0} | {4} | {7} | {11}">C | E | G | B</option>
                <option value='[0,2,4,5,7,9,11]' selected data-template="Diatonic">Diatonic</option>
                <option value='[0,2,4,5,7,9,10,11]' data-template="Diatonic + {10}">Diatonic + Bb</option>
                <option value='[0,2,3,4,5,7,9,10,11]' data-template="Diatonic + {10} + {3}">Diatonic + Bb + Eb</option>
                <option value='[0,2,3,4,5,6,7,9,10,11]' data-template="Diatonic + {10} + {3} + {8}">Diatonic + Bb + Eb +
                  Ab</option>
                <option value='[0,1,2,3,4,5,6,7,9,10,11]' data-template="Diatonic + {10} + {3} + {8} + {1}">Diatonic +
                  Bb + Eb + Ab + Db</option>
                <option value='[0,1,2,3,4,5,6,7,8,9,10,11]' data-template="Chromatic">Chromatic</option>
              </select>
            </div>
          </key-selector>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="NoteCount">Number of Notes:</label>
              <input type="number" name="note_count" id="NoteCount" min="1" max="12" value="1" class="input"
                inputmode="decimal">
            </div>
            <div>
              <label for="Spread">Octave Spread:</label>
              <input type="number" name="spread" id="spread" min="1" max="4" value="1" class="input"
                inputmode="decimal">
            </div>
            <div>
              <label for="Bpm">Tempo (BPM):</label>
              <input type="number" name="bpm" id="Bpm" min="1" max="200" value="60" class="input" inputmode="decimal">
            </div>
            <div>
              <label for="Octave">Octave:</label>
              <input type="number" name="octave" id="Octave" min="1" max="8" value="4" class="input"
                inputmode="decimal">
            </div>
          </div>
        </form>
      </define-user>

      <div class="my-4 flex flex-col space-y-4">
        <button id="Play" class="btn bg-gradient-to-r from-green-300 to-green-200 text-xl">PLAY</button>
        <div class="grid grid-cols-2 gap-4">
          <button id="PlayCadence" class="btn bg-gradient-to-r from-blue-300 to-blue-200">Replay Cadence</button>
          <button id="PlayNotes" class="btn bg-gradient-to-r from-blue-300 to-blue-200">Replay Notes</button>
        </div>
      </div>
    </div>
    <div class="sm:col-span-2 flex flex-col">
      <div id="piano" class="mb-4"></div>
      <game-area id="Gameify"
        class="rounded-lg flex-grow justify-center grid grid-cols-2 text-center text-white gap-4 py-4 relative">
        <div class="z-10 flex flex-col items-center justify-center">
          <div class="text-xl">Streak</div>
          <div data-streak class="font-bold text-4xl">0</div>
        </div>
        <div class="z-10 flex flex-col items-center justify-center">
          <div class=" text-xl">Score</div>
          <div class="flex flex-row justify-center font-bold text-4xl">
            <span data-correct>0</span>/<span data-total>0</span>
          </div>
        </div>
        <div class="rounded-lg overflow-hidden absolute progress top-0 left-0 right-0 h-full bg-gradient-to-r from-red-700 to-red-900 z-0">
          <div data-gradient class="h-full bg-gradient-to-r from-blue-800 to-blue-500 transition-all duration-400"></div>
        </div>
      </game-area>
    </div>
  </main>
  <script type="module" src="index.js"></script>
</body>

</html>